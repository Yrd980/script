nvim-ufo The goal of nvim-ufo is to make Neovim's fold look modern and keep high performance. <https://user-images.githubusercontent.com/17562139/173796287-9842fb3a-37c2-47fb-8968-6e7600c0fcef.mp4> > setup foldcolumn like demo --- Table of contents - Table of contents - Features - Quickstart - Requirements - Installation - Minimal configuration - Usage - Documentation - How does nvim-ufo get the folds? - Setup and description - Preview function table - Commands - API - Highlight groups - Advanced configuration - Customize configuration - Customize fold text - Feedback - License Features - Penetrate color for folded lines like other modern editors/IDEs - Never block Neovim - Adding folds high accuracy with Folding Range in LSP - Support fallback and customize strategy for fold provider - Peek folded line and jump the desired location with less redraw Quickstart Requirements - Neovim 0.7.2 or later - coc.nvim optional Installation Install with Packer.nvim: Minimal configuration Usage Use fold as usual. Using a provider of ufo, must set a large value for , this is the limitation of . A small value may close fold automatically if the fold ranges updated. After running and normal commands will change the , ufo provide the APIs / to open/close all folds but keep value, need to remap them. Like and , if you used and before, please use API to close folds like but keep value. Documentation How does nvim-ufo get the folds? If ufo detect option is not or , it will request the providers to get the folds, the request strategy is formed by the main and the fallback. The default value of main is and the default value of fallback is which implemented by ufo. For example, Changing the text in a buffer will request the providers for folds. > option will finally become if ufo is working. Setup and description may help you to get the all default configuration. Preview function table <!-- markdownlint-disable MD013 --> | Function | Action | Def Key | | -------- | ---------------------------------------------------------------------------------------------- | ------- | | scrollB | Type in preview window | | | scrollF | Type in preview window | | | scrollU | Type in preview window | | | scrollD | Type in preview window | | | scrollE | Type in preview window | | | scrollY | Type in preview window | | | jumpTop | Jump to top region in preview window | | | jumpBot | Jump to bottom region in preview window | | | close | In normal window: Close preview window<br>In preview window: Close preview window | | | switch | In normal window: Go to preview window<br>In preview window: Go to normal window | | | trace | In normal window: Trace code based on topline<br>In preview window: Trace code based on cursor | | <!-- markdownlint-enable MD013--> Additional mouse supported: 1. and : Scroll preview window. 2. : Same as action in preview window. > action will open all fold for the folded lines Commands | Command | Description | | -------------- | -------------------------------------------------------------- | | UfoEnable | Enable ufo | | UfoDisable | Disable ufo | | UfoInspect | Inspect current buffer information | | UfoAttach | Attach current buffer to enable all features | | UfoDetach | Detach current buffer to disable all features | | UfoEnableFold | Enable to get folds and update them at once for current buffer | | UfoDisableFold | Disable to get folds for current buffer | API ufo.lua Highlight groups - : Foreground for raw text of folded line. - : Background of folded line. - : Scroll bar of preview window, only take effect if the border is missing right horizontal line, like . - : Highlight current line in preview window if it isn't the start of folded lines. - : Virtual winBar of preview window. - : Thumb of preview window. - : Ellipsis at the end of folded line, invalid if is set. - : Highlight the folded line under the cursor Advanced configuration Configuration can be found at example.lua Customize configuration Customize fold text Adding number suffix of folded lines instead of the default ellipsis, here is the example: <p align="center"> <img width="864px" src=https://user-images.githubusercontent.com/17562139/174121926-e90a962d-9fc9-428a-bd53-274ed392c68d.png> </p> Sponsors A special thanks to vtexs for sponsoring nvim-ufo! Their support is greatly appreciated and helps drive the project forward. Feedback - If you get an issue or come up with an awesome idea, don't hesitate to open an issue in github. - If you think this plugin is useful or cool, consider rewarding it a star. License The project is licensed under a BSD-3-clause license. See LICENSE file for details.