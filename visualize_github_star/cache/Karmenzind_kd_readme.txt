:stars: a crystal clear command-line dictionary, written in Go, supported Linux/Win/Mac Go语言实现的简洁好用的命令行词典，跨平台、易于安装、持续维护更新 !GitHub Releasehttps://github.com/Karmenzind/kd/releases <!-- <img src="https://raw.githubusercontent.com/Karmenzind/i/master/kd/kddemo.gif" width="700" align="center"> --> !https://raw.githubusercontent.com/Karmenzind/i/master/kd/kddemo.gif 本项目受无道词典启发，在复刻Wudao核心功能的基础上增加了更丰富的特性。我是Wudao的多年用户，日常工作生活重度依赖随手，但可惜这个项目已经很久未更新，且存在一些可以优化的地方，所以忍不住重写了一个，选择Go是为了方便地解决安装和跨平台问题。 TOC <!-- vim-markdown-toc GitLab --> :ballotboxwithcheck: 特性 🚀 安装和升级 Linux/MacOS ArchLinux Windows 其他平台 卸载 ⚙️ 用法 配置文件 更多特性 读音功能（experimental） 🎈 提升体验技巧 NeoVim插件kdtranslate.nvim 使用tmux的悬浮窗口显示结果 通过systemd管理daemon进程 生词本 🎨 颜色主题 ❓ 常见问题和解决方法 设置less为Pager后显示异常 MacOS弹出“无法打开”提醒 📝 进度和计划 <!-- vim-markdown-toc --> :ballotboxwithcheck: 特性 - 极速响应，超低延迟 ⚡ - 单文件运行，多平台兼容，无需安装任何依赖。Windows运行截图： <img src="https://raw.githubusercontent.com/Karmenzind/i/master/kd/winterminal.png"> - 支持查单词、词组，本地词库（10W+），可离线使用 > 运行时后台会自动下载数据库 - 支持翻译长句 👀 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/longtext.png - 灵活的配置项，支持修改代理、配色等 - 支持朗读单词 📢 - 其他小功能（详见下文）： - 支持纯英文模式，只显示英译/英文例句 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/enonly.png - 多次查询相同词汇会出现提醒并加入生词本 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/highfreq.png - 命令一键更新版本 > 更多功能正在开发中 👽 🚀 安装和升级 - 这里下载位置为示例，可以下载到任何地方，然后将路径加入PATH环境变量 - 其他架构需求请提交issue Linux/MacOS 在终端中执行： > 如果raw.githubusercontent.com被屏蔽，改用 <details><summary>或者按照平台/架构复制命令（🖱️ 点击展开）</summary><pre> </pre></details> ArchLinux !AUR Versionhttps://aur.archlinux.org/packages/kd-bin ArchLinux推荐直接通过AUR安装/更新，例如： Windows 用非管理员模式的Powershell执行: > 或手动下载文件，然后通过“计算机->属性->修改环境变量”修改PATH 其他平台 Android 经测试（感谢@Ze-Wshine协助），用aarch64-linux-android-clang交叉编译的kd可以在Termux（安卓平台上的Linux模拟器APP）运行，可以在此处下载试用。后续有时间会加入标准编译流程作为release发布。 自行编译 其他暂未支持的平台，可创建issue反馈需求。也可以自己动手安装最新Go环境，clone此项目，然后执行以下流程编译安装： > 此处为类unix环境，具体命令根据平台修改 卸载 <details><summary>🖱️ 点击展开</summary><pre> 1. 删除kd可执行文件（Linux/Mac：/usr/local/bin/kd，Win：C:\bin\kd.exe） 2. 删除配置文件和缓存目录 - Linux: - MacOS: - Win: 如果通过AUR安装，则直接通过AUR管理工具卸载，例如： </pre></details> ⚙️ 用法 直接执行查单词、词组（如、） <!-- （Windows可能需要） --> 完整用法如下： > 此处可能更新不及时，以实际命令输出为准 说明： - JSON模式直接输出数据库中raw data，key为简写，暂不打算优化为易读形式 配置文件 📁 配置文件地址：Linux/MacOS为~/.config/kd.toml，Windows为~/kd.toml 以下为可配置项和默认值，可执行生成默认配置文件，执行直接用编辑器打开配置文件 <!-- 修改配置文件后，请执行重启服务端 --> 更多特性 读音功能（experimental） ⚠️ 此功能需要访问Google。目前处于实验阶段，请斟酌使用 单词前加speak参数，例如 Windows - 默认会调用系统默认音频播放程序（如Media Player），会弹出窗口，体验不佳 - 如果要实现命令行直接播放声音，无弹窗干扰，可安装以下之一： - mpv，可通过Chocolatey（ ）或参考 https://mpv.io/installation/ - ffmpeg，可通过Chocolatey（ ）或Winget（ ）安装 🎈 提升体验技巧 NeoVim插件kdtranslate.nvim 🙏 @SilverofLight编写的NeoVim插件kdtranslate.nvim，可以直接在nvim中选中文字查询 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/kdtranslatenvim.png 使用tmux的悬浮窗口显示结果 如果你在使用tmux，借助悬浮窗口（popup）能让查询体验更舒适友好 🍭 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/kdtmuxpopup.gif 在bash/zsh的配置文件中加入： 通过systemd管理daemon进程 为避免每次开机后第一次查询都要等待守护进程启动，可以创建service文件，然后执行，daemon进程将随系统自动启动 内容参考kd-server.service（请检查service文件中的kd路径是否与实际安装位置一致） 生词本 我还在犹豫生词本的具体实现形式，可能考虑作为笔记推送到Notion之类的应用。 目前可以参考@exaithrg提供的方式来做一个Repo形式的生词本。 🎨 颜色主题 目前支持以下配色，后续会增加更多。如果不希望输出颜色，设置环境变量即可 - 暂定的默认配色 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/themedefault.png - 适合浅色背景 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/themecanvas.png - 复刻Wudao Dict的配色，鲜明易读 !https://raw.githubusercontent.com/Karmenzind/i/master/kd/themewudao.png ❓ 常见问题和解决方法 设置less为Pager后显示异常 目前发现MacOS/Debian Bookworm设置less为分页器后，颜色渲染会失败，尚未解决。如果其他平台遇到此问题，请提交issue 解决方案： - 配置文件中设置（新版本默认） - 改用其他pager程序，如bat/more（安装bat后，在配置文件设置） - 关闭pager，配置文件中设置 - 如果还想使用less作为分页器，可在shell中设置alias，例如bash/zsh可在bashrc/zshrc中添加： MacOS弹出“无法打开”提醒 如果弹出“无法打开，因为Apple无法检查是否包含恶意软件”的提示，请执行： 📝 进度和计划 近期 - 支持bash/zsh/fish补全，包含命令补全和热词补全 - 支持生词本功能 长期 - 增加多种主题，包含常见配色如Gruvbox/Molokai，仿照bat实现 - 支持全模块自定义显示配置 - 引入多种查询源和词库，如stardict、bing等 - 增加远程服务端 - 支持通过fzf补全 - Vim插件，浮窗显示查词结果 - 离线词库周期更新