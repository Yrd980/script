<h1 align="center">OpenAI Codex CLI</h1> <p align="center"><code>npm i -g @openai/codex</code><br />or <code>brew install codex</code></p> <p align="center"><strong>Codex CLI</strong> is a coding agent from OpenAI that runs locally on your computer.</br>If you are looking for the <em>cloud-based agent</em> from OpenAI, <strong>Codex Web</strong>, see <a href="https://chatgpt.com/codex">chatgpt.com/codex</a>.</p> <p align="center"> <img src="./.github/codex-cli-splash.png" alt="Codex CLI splash" width="50%" /> </p> --- <details> <summary><strong>Table of contents</strong></summary> <!-- Begin ToC --> - Quickstart - Installing and running Codex CLI - Using Codex with your ChatGPT plan - Connecting on a "Headless" Machine - Authenticate locally and copy your credentials to the "headless" machine - Connecting through VPS or remote - Usage-based billing alternative: Use an OpenAI API key - Choosing Codex's level of autonomy - 1. Read/write - 2. Read-only - 3. Advanced configuration - Can I run without ANY approvals? - Fine-tuning in - Example prompts - Running with a prompt as input - Using Open Source Models - Platform sandboxing details - Experimental technology disclaimer - System requirements - CLI reference - Memory & project docs - Non-interactive / CI mode - Model Context Protocol MCP - Tracing / verbose logging - DotSlash - Configuration - FAQ - Zero data retention ZDR usage - Codex open source fund - Contributing - Development workflow - Writing high-impact code changes - Opening a pull request - Review process - Community values - Getting help - Contributor license agreement CLA - Quick fixes - Releasing - Security & responsible AI - License <!-- End ToC --> </details> --- Quickstart Installing and running Codex CLI Install globally with your preferred package manager: Then simply run to get started: <details> <summary>You can also go to the <a href="https://github.com/openai/codex/releases/latest">latest GitHub Release</a> and download the appropriate binary for your platform.</summary> Each GitHub Release contains many executables, but in practice, you likely want one of these: - macOS - Apple Silicon/arm64: - x8664 older Mac hardware: - Linux - x8664: - arm64: Each archive contains a single entry with the platform baked into the name e.g., , so you likely want to rename it to after extracting it. </details> Using Codex with your ChatGPT plan <p align="center"> <img src="./.github/codex-cli-login.png" alt="Codex CLI login" width="50%" /> </p> Run and select Sign in with ChatGPT. You'll need a Plus, Pro, or Team ChatGPT account, and will get access to our latest models, including , at no extra cost to your plan. Enterprise is coming soon. > Important: If you've used the Codex CLI before, follow these steps to migrate from usage-based billing with your API key: > > 1. Update the CLI and ensure is or later > 2. Delete this should be on Windows > 3. Run again If you encounter problems with the login flow, please comment on this issue. Connecting on a "Headless" Machine Today, the login process entails running a server on . If you are on a "headless" server, such as a Docker container or are 'd into a remote machine, loading in the browser on your local machine will not automatically connect to the webserver running on the headless machine, so you must use one of the following workarounds: Authenticate locally and copy your credentials to the "headless" machine The easiest solution is likely to run through the process on your local machine such that is accessible in your web browser. When you complete the authentication process, an file should be available at on Mac/Linux, defaults to whereas on Windows, it defaults to . Because the file is not tied to a specific host, once you complete the authentication flow locally, you can copy the file to the headless machine and then should "just work" on that machine. Note to copy a file to a Docker container, you can do: whereas if you are 'd into a remote machine, you likely want to use https://en.wikipedia.org/wiki/Securecopyprotocol: or try this one-liner: Connecting through VPS or remote If you run Codex on a remote machine VPS/server without a local browser, the login helper starts a server on on the remote host. To complete login in your local browser, forward that port to your machine before starting the login flow: Then, in that SSH session, run and select "Sign in with ChatGPT". When prompted, open the printed URL it will be in your local browser. The traffic will be tunneled to the remote server. Usage-based billing alternative: Use an OpenAI API key If you prefer to pay-as-you-go, you can still authenticate with your OpenAI API key by setting it as an environment variable: Notes: - This command only sets the key for your current terminal session, which we recommend. To set it for all future sessions, you can also add the line to your shell's configuration file e.g., . - If you have signed in with ChatGPT, Codex will default to using your ChatGPT credits. If you wish to use your API key, use the command to clear your ChatGPT authentication. Choosing Codex's level of autonomy We always recommend running Codex in its default sandbox that gives you strong guardrails around what the agent can do. The default sandbox prevents it from editing files outside its workspace, or from accessing the network. When you launch Codex in a new folder, it detects whether the folder is version controlled and recommends one of two levels of autonomy: 1. Read/write - Codex can run commands and write files in the workspace without approval. - To write files in other folders, access network, update git or perform other actions protected by the sandbox, Codex will need your permission. - By default, the workspace includes the current directory, as well as temporary directories like . You can see what directories are in the workspace with the command. See the docs for how to customize this behavior. - Advanced: You can manually specify this configuration by running - This is the recommended default for version-controlled folders. 2. Read-only - Codex can run read-only commands without approval. - To edit files, access network, or perform other actions protected by the sandbox, Codex will need your permission. - Advanced: You can manually specify this configuration by running - This is the recommended default non-version-controlled folders. 3. Advanced configuration Codex gives you fine-grained control over the sandbox with the option, and over when it requests approval with the option. Run for more on these options. Can I run without ANY approvals? Yes, run codex non-interactively with . This option works with all options, so you still have full control over Codex's level of autonomy. It will make its best attempt with whatever contrainsts you provide. For example: - Use when you are running many agents to answer questions in parallel in the same workspace. - Use when you want the agent to non-interactively take time to produce the best outcome, with strong guardrails around its behavior. - Use to dangerously give the agent full autonomy. Because this disables important safety mechanisms, we recommend against using this unless running Codex in an isolated environment. Fine-tuning in You can also save presets as profiles: Example prompts Below are a few bite-size examples you can copy-paste. Replace the text in quotes with your own task. See the prompting guide for more tips and usage patterns. | âœ¨ | What you type | What happens | | --- | ------------------------------------------------------------------------------- | -------------------------------------------------------------------------- | | 1 | | Codex rewrites the class component, runs , and shows the diff. | | 2 | | Infers your ORM, creates migration files, and runs them in a sandboxed DB. | | 3 | | Generates tests, executes them, and iterates until they pass. | | 4 | | Safely renames files and updates imports/usages. | | 5 | | Outputs a step-by-step human explanation. | | 6 | | Suggests impactful PRs in the current codebase. | | 7 | | Finds and explains security bugs. | Running with a prompt as input You can also run Codex CLI with a prompt as input: That's it - Codex will scaffold a file, run it inside a sandbox, install any missing dependencies, and show you the live result. Approve the changes and they'll be committed to your working directory. Using Open Source Models <details> <summary><strong>Use <code>--profile</code> to use other models</strong></summary> Codex also allows you to use other providers that support the OpenAI Chat Completions or Responses API. To do so, you must first define custom providers in . For example, the provider for a standard Ollama setup would be defined as follows: The will have appended to it to build the full URL for the request. For providers that also require an header of the form , an can be specified, which indicates the environment variable to read to use as the value of when making a request: Providers that speak the Responses API are also supported by adding as part of the definition. Accessing OpenAI models via Azure is an example of such a provider, though it also requires specifying additional that need to be appended to the request URL: Once you have defined a provider you wish to use, you can configure it as your default provider as follows: > !TIP > If you find yourself experimenting with a variety of models and providers, then you likely want to invest in defining a profile for each configuration like so: This way, you can specify one command-line argument .e.g., , to override multiple settings together. </details> Codex can run fully locally against an OpenAI-compatible OSS host like Ollama using the flag: - Interactive UI: - codex --oss - Non-interactive programmatic mode: - echo "Refactor utils" | codex exec --oss Model selection when using : - If you omit , Codex defaults to -m gpt-oss:20b and will verify it exists locally downloading if needed. - To pick a different size, pass one of: - -m "gpt-oss:20b" - -m "gpt-oss:120b" Point Codex at your own OSS host: - By default, talks to http://localhost:11434/v1. - To use a different host, set one of these environment variables before running Codex: - CODEXOSSBASEURL, for example: - CODEXOSSBASEURL="http://my-ollama.example.com:11434/v1" codex --oss -m gpt-oss:20b - or CODEXOSSPORT when the host is localhost: - CODEXOSSPORT=11434 codex --oss Advanced: you can persist this in your config instead of environment variables by overriding the built-in provider in : --- Platform sandboxing details The mechanism Codex uses to implement the sandbox policy depends on your OS: - macOS 12+ uses Apple Seatbelt and runs commands using with a profile that corresponds to the that was specified. - Linux uses a combination of Landlock/seccomp APIs to enforce the configuration. Note that when running Linux in a containerized environment such as Docker, sandboxing may not work if the host/container configuration does not support the necessary Landlock/seccomp APIs. In such cases, we recommend configuring your Docker container so that it provides the sandbox guarantees you are looking for and then running with or, more simply, the flag within your container. --- Experimental technology disclaimer Codex CLI is an experimental project under active development. It is not yet stable, may contain bugs, incomplete features, or undergo breaking changes. We're building it in the open with the community and welcome: - Bug reports - Feature requests - Pull requests - Good vibes Help us improve by filing issues or submitting PRs see the section below for how to contribute! --- System requirements | Requirement | Details | | --------------------------- | --------------------------------------------------------------- | | Operating systems | macOS 12+, Ubuntu 20.04+/Debian 10+, or Windows 11 via WSL2 | | Git optional, recommended | 2.23+ for built-in PR helpers | | RAM | 4-GB minimum 8-GB recommended | --- CLI reference | Command | Purpose | Example | | ------------------ | ---------------------------------- | ------------------------------- | | | Interactive TUI | | | | Initial prompt for interactive TUI | | | | Non-interactive "automation mode" | | Key flags: , . --- Memory & project docs You can give Codex extra instructions and guidance using files. Codex looks for files in the following places, and merges them top-down: 1. - personal global guidance 2. at repo root - shared project notes 3. in the current working directory - sub-folder/feature specifics --- Non-interactive / CI mode Run Codex head-less in pipelines. Example GitHub Action step: Model Context Protocol MCP The Codex CLI can be configured to leverage MCP servers by defining an ./codex-rs/config.mdmcpservers section in . It is intended to mirror how tools such as Claude and Cursor define in their respective JSON config files, though the Codex format is slightly different since it uses TOML rather than JSON, e.g.: > !TIP > It is somewhat experimental, but the Codex CLI can also be run as an MCP server via . If you launch it with an MCP client such as and send it a request, you will see that there is only one tool, , that accepts a grab-bag of inputs, including a catch-all map for anything you might want to override. Feel free to play around with it and provide feedback via GitHub issues. Tracing / verbose logging Because Codex is written in Rust, it honors the environment variable to configure its logging behavior. The TUI defaults to and log messages are written to , so you can leave the following running in a separate terminal to monitor log messages as they are written: By comparison, the non-interactive mode defaults to , but messages are printed inline, so there is no need to monitor a separate file. See the Rust documentation on https://docs.rs/envlogger/latest/envlogger/enabling-logging for more information on the configuration options. --- DotSlash The GitHub Release also contains a DotSlash file for the Codex CLI named . Using a DotSlash file makes it possible to make a lightweight commit to source control to ensure all contributors use the same version of an executable, regardless of what platform they use for development. </details> <details> <summary><strong>Build from source</strong></summary> </details> --- Configuration Codex supports a rich set of configuration options documented in ./codex-rs/config.md. By default, Codex loads its configuration from . Though can be used to set/override ad-hoc config values for individual invocations of . --- FAQ <details> <summary>OpenAI released a model called Codex in 2021 - is this related?</summary> In 2021, OpenAI released Codex, an AI system designed to generate code from natural language prompts. That original Codex model was deprecated as of March 2023 and is separate from the CLI tool. </details> <details> <summary>Which models are supported?</summary> Any model available with Responses API. The default is , but pass or set in your config file to override. </details> <details> <summary>Why does <code>o3</code> or <code>o4-mini</code> not work for me?</summary> It's possible that your API account needs to be verified in order to start streaming responses and seeing chain of thought summaries from the API. If you're still running into issues, please let us know! </details> <details> <summary>How do I stop Codex from editing my files?</summary> Codex runs model-generated commands in a sandbox. If a proposed command or file change doesn't look right, you can simply type n to deny the command or give the model feedback. </details> <details> <summary>Does it work on Windows?</summary> Not directly. It requires Windows Subsystem for Linux WSL2 - Codex has been tested on macOS and Linux with Node 22. </details> --- Zero data retention ZDR usage Codex CLI does support OpenAI organizations with Zero Data Retention ZDR enabled. If your OpenAI organization has Zero Data Retention enabled and you still encounter errors such as: Ensure you are running with or add this line to to avoid specifying the command line option each time: See the configuration documentation on for details. --- Codex open source fund We're excited to launch a $1 million initiative supporting open source projects that use Codex CLI and other OpenAI models. - Grants are awarded up to $25,000 API credits. - Applications are reviewed on a rolling basis. Interested? Apply here. --- Contributing This project is under active development and the code will likely change pretty significantly. We'll update this message once that's complete! More broadly we welcome contributions - whether you are opening your very first pull request or you're a seasoned maintainer. At the same time we care about reliability and long-term maintainability, so the bar for merging code is intentionally high. The guidelines below spell out what "high-quality" means in practice and should make the whole process transparent and friendly. Development workflow - Create a topic branch from - e.g. . - Keep your changes focused. Multiple unrelated fixes should be opened as separate PRs. - Following the development setup instructions above, ensure your change is free of lint warnings and test failures. Writing high-impact code changes 1. Start with an issue. Open a new one or comment on an existing discussion so we can agree on the solution before code is written. 2. Add or update tests. Every new feature or bug-fix should come with test coverage that fails before your change and passes afterwards. 100% coverage is not required, but aim for meaningful assertions. 3. Document behaviour. If your change affects user-facing behaviour, update the README, inline help , or relevant example projects. 4. Keep commits atomic. Each commit should compile and the tests should pass. This makes reviews and potential rollbacks easier. Opening a pull request - Fill in the PR template or include similar information - What? Why? How? - Run all checks locally . CI failures that could have been caught locally slow down the process. - Make sure your branch is up-to-date with and that you have resolved merge conflicts. - Mark the PR as Ready for review only when you believe it is in a merge-able state. Review process 1. One maintainer will be assigned as a primary reviewer. 2. We may ask for changes - please do not take this personally. We value the work, we just also value consistency and long-term maintainability. 3. When there is consensus that the PR meets the bar, a maintainer will squash-and-merge. Community values - Be kind and inclusive. Treat others with respect; we follow the Contributor Covenant. - Assume good intent. Written communication is hard - err on the side of generosity. - Teach & learn. If you spot something confusing, open an issue or PR with improvements. Getting help If you run into problems setting up the project, would like feedback on an idea, or just want to say hi - please open a Discussion or jump into the relevant issue. We are happy to help. Together we can make Codex CLI an incredible tool. Happy hacking! :rocket: Contributor license agreement CLA All contributors must accept the CLA. The process is lightweight: 1. Open your pull request. 2. Paste the following comment or reply if you've signed before: 3. The CLA-Assistant bot records your signature in the repo and marks the status check as passed. No special Git commands, email attachments, or commit footers required. Quick fixes | Scenario | Command | | ----------------- | ------------------------------------------------ | | Amend last commit | | The DCO check blocks merges until every commit in the PR carries the footer with squash this is just the one. Releasing For admins only. Make sure you are on and have no local changes. Then run: This will make a local commit on top of with set to in note that on , we leave the version as . This will push the commit using the tag , which in turn kicks off the release workflow. This will create a new GitHub Release named . If everything looks good in the generated GitHub Release, uncheck the pre-release box so it is the latest release. Create a PR to update https://github.com/Homebrew/homebrew-core/blob/main/Formula/c/codex.rb on Homebrew. --- Security & responsible AI Have you discovered a vulnerability or have concerns about model output? Please e-mail security@openai.com and we will respond promptly. --- License This repository is licensed under the Apache-2.0 License.