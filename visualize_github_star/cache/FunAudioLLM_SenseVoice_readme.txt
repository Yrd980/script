ÁÆÄ‰Ωì‰∏≠Êñá|English|Êó•Êú¨Ë™û Introduction SenseVoice is a speech foundation model with multiple speech understanding capabilities, including automatic speech recognition ASR, spoken language identification LID, speech emotion recognition SER, and audio event detection AED. <div align="center"> <img src="image/sensevoice2.png"> </div> //: <div align="center"><img src="image/sensevoice.png" width="700"/> </div> <div align="center"> <h4> <a href="https://funaudiollm.github.io/"> Homepage </a> ÔΩú<a href="What's News"> What's News </a> ÔΩú<a href="Benchmarks"> Benchmarks </a> ÔΩú<a href="Install"> Install </a> ÔΩú<a href="Usage"> Usage </a> ÔΩú<a href="Community"> Community </a> </h4> Model Zoo: modelscope, huggingface Online Demo: modelscope demo, huggingface space </div> <a name="Highligts"></a> Highlights üéØ SenseVoice focuses on high-accuracy multilingual speech recognition, speech emotion recognition, and audio event detection. - Multilingual Speech Recognition: Trained with over 400,000 hours of data, supporting more than 50 languages, the recognition performance surpasses that of the Whisper model. - Rich transcribe: - Possess excellent emotion recognition capabilities, achieving and surpassing the effectiveness of the current best emotion recognition models on test data. - Offer sound event detection capabilities, supporting the detection of various common human-computer interaction events such as bgm, applause, laughter, crying, coughing, and sneezing. - Efficient Inference: The SenseVoice-Small model utilizes a non-autoregressive end-to-end framework, leading to exceptionally low inference latency. It requires only 70ms to process 10 seconds of audio, which is 15 times faster than Whisper-Large. - Convenient Finetuning: Provide convenient finetuning scripts and strategies, allowing users to easily address long-tail sample issues according to their business scenarios. - Service Deployment: Offer service deployment pipeline, supporting multi-concurrent requests, with client-side languages including Python, C++, HTML, Java, and C, among others. <a name="What's News"></a> What's New üî• - 2024/11: Add support for timestamp based on the CTC alignment. - 2024/7: Added Export Features for ONNX and libtorch, as well as Python Version Runtimes: funasr-onnx-0.4.0, funasr-torch-0.1.1 - 2024/7: The SenseVoice-Small voice understanding model is open-sourced, which offers high-precision multilingual speech recognition, emotion recognition, and audio event detection capabilities for Mandarin, Cantonese, English, Japanese, and Korean and leads to exceptionally low inference latency. - 2024/7: The CosyVoice for natural speech generation with multi-language, timbre, and emotion control. CosyVoice excels in multi-lingual voice generation, zero-shot voice generation, cross-lingual voice cloning, and instruction-following capabilities. CosyVoice repo and CosyVoice space. - 2024/7: FunASR is a fundamental speech recognition toolkit that offers a variety of features, including speech recognition ASR, Voice Activity Detection VAD, Punctuation Restoration, Language Models, Speaker Verification, Speaker Diarization and multi-talker ASR. <a name="Benchmarks"></a> Benchmarks üìù Multilingual Speech Recognition We compared the performance of multilingual speech recognition between SenseVoice and Whisper on open-source benchmark datasets, including AISHELL-1, AISHELL-2, Wenetspeech, LibriSpeech, and Common Voice. In terms of Chinese and Cantonese recognition, the SenseVoice-Small model has advantages. <div align="center"> <img src="image/asrresults1.png" width="400" /><img src="image/asrresults2.png" width="400" /> </div> Speech Emotion Recognition Due to the current lack of widely-used benchmarks and methods for speech emotion recognition, we conducted evaluations across various metrics on multiple test sets and performed a comprehensive comparison with numerous results from recent benchmarks. The selected test sets encompass data in both Chinese and English, and include multiple styles such as performances, films, and natural conversations. Without finetuning on the target data, SenseVoice was able to achieve and exceed the performance of the current best speech emotion recognition models. <div align="center"> <img src="image/sertable.png" width="1000" /> </div> Furthermore, we compared multiple open-source speech emotion recognition models on the test sets, and the results indicate that the SenseVoice-Large model achieved the best performance on nearly all datasets, while the SenseVoice-Small model also surpassed other open-source models on the majority of the datasets. <div align="center"> <img src="image/serfigure.png" width="500" /> </div> Audio Event Detection Although trained exclusively on speech data, SenseVoice can still function as a standalone event detection model. We compared its performance on the environmental sound classification ESC-50 dataset against the widely used industry models BEATS and PANN. The SenseVoice model achieved commendable results on these tasks. However, due to limitations in training data and methodology, its event classification performance has some gaps compared to specialized AED models. <div align="center"> <img src="image/aedfigure.png" width="500" /> </div> Computational Efficiency The SenseVoice-Small model deploys a non-autoregressive end-to-end architecture, resulting in extremely low inference latency. With a similar number of parameters to the Whisper-Small model, it infers more than 5 times faster than Whisper-Small and 15 times faster than Whisper-Large. <div align="center"> <img src="image/inference.png" width="1000" /> </div> Requirements <a name="Usage"></a> Usage Inference Supports input of audio in any format and of any duration. <details><summary>Parameter Description Click to Expand</summary> - : The name of the model, or the path to the model on the local disk. - : - When , it means that the model's code implementation is loaded from , which specifies the exact location of the code for example, in the current directory. It supports absolute paths, relative paths, and network URLs. - When , it indicates that the model's code implementation is the integrated version within FunASR. At this time, modifications made to in the current directory will not be effective, as the version loaded is the internal one from FunASR. For the model code, click here to view. - : This indicates the activation of VAD Voice Activity Detection. The purpose of VAD is to split long audio into shorter clips. In this case, the inference time includes both VAD and SenseVoice total consumption, and represents the end-to-end latency. If you wish to test the SenseVoice model's inference time separately, the VAD model can be disabled. - : Specifies the configurations for the VAD model. : denotes the maximum duration for audio segmentation by the , with the unit being milliseconds ms. - : Whether the output result includes punctuation and inverse text normalization. - : Indicates the use of dynamic batching, where the total duration of audio in the batch is measured in seconds s. - : Whether to merge short audio fragments segmented by the VAD model, with the merged length being , in seconds s. - : Whether to ban the output of the token. </details> If all inputs are short audios <30s, and batch inference is needed to speed up inference efficiency, the VAD model can be removed, and can be set accordingly. For more usage, please refer to docs Inference directly Supports input of audio in any format, with an input duration limit of 30 seconds or less. Export and Test <details><summary>ONNX and Libtorch Export</summary> ONNX Note: ONNX model is exported to the original model directory. Libtorch Note: Libtorch model is exported to the original model directory. </details> Service Deployment with FastAPI Finetune Requirements Data prepare Data examples Full ref to <details><summary>Data Prepare Details</summary> DescriptionÔºö - : audio file unique ID - Ôºöpath to the audio file - Ôºönumber of fbank frames of the audio file - Ôºötranscription - Ôºölength of target - Ôºölanguage id of the audio file - Ôºöemotion label of the audio file - Ôºöevent label of the audio file - Ôºöwhether includes punctuation and inverse text normalization The language ids include „ÄÅ„ÄÅ„ÄÅ and . The emotion labels include„ÄÅ„ÄÅ„ÄÅ„ÄÅ„ÄÅ and . The event labels include„ÄÅ„ÄÅ„ÄÅ„ÄÅ„ÄÅ„ÄÅ and . If there is no , and , the language, emotion and event label will be predicted automatically by using the model. </details> Finetune Ensure to modify the traintool in finetune.sh to the absolute path of from the FunASR installation directory you have set up earlier. WebUI <div align="center"><img src="image/webui.png" width="700"/> </div> Remarkable Third-Party Work - Triton GPU Deployment Best Practices: Using Triton + TensorRT, tested with FP32, achieving an acceleration ratio of 526 on V100 GPU. FP16 support is in progress. Repository - Sherpa-onnx Deployment Best Practices: Supports using SenseVoice in 10 programming languages: C++, C, Python, C, Go, Swift, Kotlin, Java, JavaScript, and Dart. Also supports deploying SenseVoice on platforms like iOS, Android, and Raspberry Pi. Repository - SenseVoice.cpp. Inference of SenseVoice in pure C/C++ based on GGML, supporting 3-bit, 4-bit, 5-bit, 8-bit quantization, etc. with no third-party dependencies. - streaming-sensevoice processes inference in chunks. To achieve pseudo-streaming, it employs a truncated attention mechanism, sacrificing some accuracy. Additionally, this technology supports CTC prefix beam search and hot-word boosting features. - OmniSenseVoice is optimized for lightning-fast inference and batching process. - SenseVoice HotwordÔºåNeural Network Hotword EnhancementÔºåContextualized End-to-End Speech Recognition with Contextual Phrase Prediction Network„ÄÇ <a name="Community"></a> Community If you encounter problems in use, you can directly raise Issues on the github page. You can also scan the following DingTalk group QR code to join the community group for communication and discussion. | FunASR | |:--------------------------------------------------------:| | <img src="image/dingdingfunasr.png" width="250"/></div> |